# Agent Change Logs

## v0.0.1 - 2025.12.21

- 新增岩场数据模型与模拟数据，包含省份-地区-岩场层级与详情信息。
- 新增岩场相关 Provider，确保 views 通过状态层读取数据。
- 完成岩场入口、地区岩场列表、岩场详情页面的导航与展示。
- 新增线路数据模型与模拟数据，支持按岩场过滤线路。
- 新增线路筛选 Provider 与分组模型，支持多选岩场与过滤条件。
- 完成线路总览页面的工具栏、筛选弹窗与分级展示布局。
- 修正线路页面对 Riverpod notifier/provider 的使用方式，避免状态传递错误。
- 修正线路过滤状态默认空集合的类型问题。
- 将线路筛选状态改为 Riverpod 2 推荐的 Notifier Provider。
- 修正 NotifierProvider 的构造方式以匹配 Riverpod 2 类型签名。
- 新增线路记录模型与记录状态 Provider，支持创建与编辑记录。
- 新增线路记录弹窗及查看线路入口，线路/日志列表支持点击记录或编辑。
- 新增地区/岩场/岩壁/线路的新模型与资源数据服务，支持多级地区结构。
- 重构岩场页面为层级浏览，地区与岩场分区展示并显示线路统计。
- 重构线路筛选与岩场详情以适配新数据结构与资源加载。
- 将 Riverpod 3 中移除的 valueOrNull 替换为 asData?.value，避免 Provider 读取报错。
- 新增数据加载与 Provider 读取的单元测试，覆盖资源解析与关联关系校验。
- 在应用入口初始化 WidgetsBinding，避免资源加载时未初始化导致的错误。

## main

- 新增账号登录、个人资料编辑与测试账号数据，并在个人记录页加入登录注册视图。
- 路书相关页面补充信息更新/历史入口与评论区，支持评论回复及未登录提示。
- 增加地区/岩场/岩壁/线路的增删改与地区合并调整能力，完善编辑记录与历史追踪。
- 线路记录弹窗新增保护员搜索与选择，个人记录列表展示保护员信息并按账号过滤记录。
- 将 Riverpod 异步状态读取改为使用 asData?.value，替代已过时的 valueOrNull。
- 更新岩场数据模型以支持 zone 层级与墙面父级类型，线路改为仅关联 wall 并新增 pitch 的 bolt 字段。
- 重构 crags.json 解析逻辑以适配 region/crag/zone/wall 结构，并将 routes.json 路线挂载到 wall。
- 更新线路筛选、日志与编辑页面的岩场关联逻辑，修正墙面类型显示与新增墙面默认值。
- 调整线路等级区间列表与数据加载测试，覆盖新层级关系映射。
